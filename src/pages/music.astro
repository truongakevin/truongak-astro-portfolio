---
import Layout from '../layouts/Layout.astro';
import CurrentlyPlaying from '../components/CurrentlyPlaying';
import SpotifyData from '../components/SpotifyData';

const response = await fetch('https://kevinatruong.com/api/spotify/data');
const spotifyData = await response.json();
---

<Layout title="music - kevinatruong">
	<main>
		<SpotifyData client:load/>
		<br></br>
		<br></br>
	</main>
</Layout>

<style is:inline>
	img{
		width: 100px;
		height: 100px;
	}
	main {
		margin-left: 0;
		margin-right: 0;
		font-size: .4em;
	}
	h2 {
		margin: 40px 20px 10px;
	}
	img {
		object-fit: cover;
	}
	/* profile div ============================ */
	.profile {
		display: flex;
		margin: 20px;
	}
	.profile-pic img {
		width: 200px;
		height: 200px;
	}
	.profile-info {
		margin: 10px;
		margin-right: 0;
	}
	.profile-info a {
		text-decoration: none;
		margin: 0;
		color: var(--primary);
		font-size: 2.5em;
	}
	.profile-info a h1 {
	}
	.profile-info > * {
		margin: 5px 0;
	}
	.currently-playing h3 {
		margin: 5px 0;
		margin-top: 10px;
	}

	/* artists div ============================ */
	.artists-container {
		overflow-x: auto;
		max-width: 100%;
	}
	.artists-container::-webkit-scrollbar {
		display: none;
	}
	.artists {
		display: flex;
		flex-direction: row;
	}
	.artist {
		flex: 0 0 200px;
		margin-left: 20px;
	}
	.artist img {
		width: 100%;
		height: 200px;
		border-radius: 100px;
	}
	.artist > * {
		margin: 2px;
	}
	
	/* tracks div ============================ */
	.tracks {
		margin-left: 20px;
	}
	.track {
		display: flex;
		flex-direction: row;
		margin: 5px;
	}
	.track-pic img {
		width: 75px;
		height: 75px;
	}
	.track-info {
		margin: auto 10px;
	}
	.track-info > * {
		margin: 0;
	}

	/* playlists div ============================ */
	.playlists-container {
		overflow-x: auto;
		max-width: 100%;
	}
	.playlists-container::-webkit-scrollbar {
		display: none;
	}
	.playlists {
		display: flex;
		flex-direction: row;
	}
	.playlist {
		flex: 0 0 250px;
		margin-left: 20px;
	}
	.playlist img {
		width: 100%;
		height: 250px;
	}
	.playlist > * {
		margin: 0;
	}
	@media screen and (max-width: 768px) {
		main {
			margin: 0;
		}
		h2 {
			margin: 25px 10px 10px;
		}
		.profile {
			margin: 10px;
		}
		.profile-pic img {
			width: 150px;
			height: 175px;
		}
		.artist {
			margin-left: 10px;
		}
		.tracks {
			margin: 10px;
		}
		.playlist {
			margin-left: 10px;
		}
	}
</style>
